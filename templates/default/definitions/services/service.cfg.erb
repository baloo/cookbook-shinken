# This file is handled by chef, any local changes will be overwritten next run

define service {
<% if not @register %>
  name                          <%= @service_key %>
<% end %>
<% if not @service_alias.nil? %>
  alias                         <%= @service_alias %>
<% end %>

<% if not @host_name.nil? %>
  host_name                     <%= @host_name %>
<% end %>
<% if not @hostgroup_name.nil? %>
  hostgroup_name                <%= @hostgroup_name.join(",") %>
<% end %>
<% if not @service_description.nil? %>
  service_description           <%= @service_description %>
<% end %>
<% if not @display_name.nil? %>
  display_name                  <%= @display_name %>
<% end %>
<% if not @servicegroups.nil? %>
  servicegroups                 <%= @servicegroups.join(",") %>
<% end %>
<% if not @check_command.nil? %>
  check_command                 <%= @check_command.command_identifier %>
<% end %>
<% if not @initial_state.nil? %>
  initial_state                 <%= @initial_state.to_s[0,1] %>
<% end %>
<% if not @max_check_attempts.nil? %>
  max_check_attempts            <%= @max_check_attempts %>
<% end %>
<% if not @check_interval.nil? %>
  check_interval                <%= @check_interval %>
<% end %>
<% if not @retry_interval.nil? %>
  retry_interval                <%= @retry_interval %>
<% end %>
<% if not @active_checks_enabled.nil? %>
  active_checks_enabled         <%= @active_checks_enabled ? "1": "0" %>
<% end %>
<% if not @passive_checks_enabled.nil? %>
  passive_checks_enabled        <%= @passive_checks_enabled ? "1": "0" %>
<% end %>
<% if not @check_period.nil? %>
  check_period                  <%= @check_period %>
<% end %>
<% if not @obsess_over_service.nil? %>
  obsess_over_service           <%= @obsess_over_service ? "1": "0" %>
<% end %>
<% if not @check_freshness.nil? %>
  check_freshness               <%= @check_freshness ? "1": "0" %>
<% end %>
<% if not @freshness_threshold.nil? %>
  freshness_threshold           <%= @freshness_threshold %>
<% end %>
<% if not @event_handler.nil? %>
  event_handler                 <%= @event_handler %>
<% end %>
<% if not @event_handler_enabled.nil? %>
  event_handler_enabled         <%= @event_handler_enabled? "1": "0" %>
<% end %>
<% if not @low_flap_threshold.nil? %>
  low_flap_threshold            <%= @low_flap_threshold %>
<% end %>
<% if not @high_flap_threshold.nil? %>
  high_flap_threshold           <%= @high_flap_threshold %>
<% end %>
<% if not @flap_detection_enabled.nil? %>
  flap_detection_enabled        <%= @flap_detection_enabled ? "1": "0"%>
<% end %>
<% if not @flap_detection_options.nil? %>
  flap_detection_options        <%= @flap_detection_options.map{|e| e.to_s[0,1]}.join(",") %>
<% end %>
<% if not @process_perf_data.nil? %>
  process_perf_data             <%= @process_perf_data? "1": "0" %>
<% end %>
<% if not @retain_status_information.nil? %>
  retain_status_information     <%= @retain_status_information ? "1": "0" %>
<% end %>
<% if not @retain_nonstatus_information.nil? %>
  retain_nonstatus_information  <%= @retain_nonstatus_information? "1": "0" %>
<% end %>
<% if not @notification_interval.nil? %>
  notification_interval         <%= @notification_interval %>
<% end %>
<% if not @first_notification_delay.nil? %>
  first_notification_delay      <%= @first_notification_delay %>
<% end %>
<% if not @notification_period.nil? %>
  notification_period           <%= @notification_period %>
<% end %>
<% if not @notification_options.nil? %>
  notification_options          <%= @notification_options.map{|e| e.to_s[0,1]}.join(",") %>
<% end %>
<% if not @notifications_enabled.nil? %>
  notifications_enabled         <%= @notifications_enabled?"1":"0" %>
<% end %>
<% if not @contacts.nil? and not @contacts.empty?%>
  contacts                      <%= @contacts.join(",") %>
<% end %>
<% if not @contact_groups.nil? %>
  contact_groups                <%= @contact_groups.join(",") %>
<% end %>
<% if not @stalking_options.nil? %>
  stalking_options              <%= @stalking_options.map{|e| e.to_s[0,1]}.join(",") %>
<% end %>
<% if not @notes.nil? %>
  notes                         <%= @notes %>
<% end %>
<% if not @notes_url.nil? %>
  notes_url                     <%= @notes_url %>
<% end %>
<% if not @action_url.nil? %>
  action_url                    <%= @action_url %>
<% end %>
<% if not @icon_image.nil? %>
  icon_image                    <%= @icon_image %>
<% end %>
<% if not @icon_image_alt.nil? %>
  icon_image_alt                <%= @icon_image_alt %>
<% end %>
<% if not @escalations.nil? %>
  escalations                   <%= @escalations %>
<% end %>
<% if not @service_dependencies.nil? %>
  service_dependencies          <%= @service_dependencies %>
<% end %>
  register                      <%= @register ? "1": "0" %>
<% if @use %>
  use                           <%= @use.join(",") %>
<% end %>
}

